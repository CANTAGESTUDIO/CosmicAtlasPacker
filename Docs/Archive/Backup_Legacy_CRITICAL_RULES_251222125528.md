# ðŸš¨ Critical Rules

> Non-negotiable rules for all projects

---

## âŒ NEVER DO

### Security

- **Never hardcode credentials**
  - API keys, passwords, tokens must be in environment variables
  - Use secrets management for production

- **Never expose sensitive data**
  - No PII in logs
  - No secrets in error messages
  - No credentials in version control

### Code Quality

- **No magic numbers/strings**
  ```
  âŒ if (status == 3) { ... }
  âœ… if (status == STATUS_APPROVED) { ... }
  ```

- **No deep nesting** (max 3 levels)
  ```
  âŒ if { if { if { if { ... } } } }
  âœ… Use early returns, extract functions
  ```

- **No functions over 50 lines**
  - Extract smaller, focused functions
  - Each function = single responsibility

- **No ignored errors**
  ```
  âŒ try { ... } catch { }  // silent failure
  âœ… try { ... } catch { log(error); handle(); }
  ```

### Architecture

- **No global mutable state abuse**
  - Minimize globals
  - Use dependency injection
  - Prefer immutable data

- **No skipping layers**
  - UI should not access database directly
  - Always go through business logic layer

---

## âœ… ALWAYS DO

### Error Handling

- Handle all errors appropriately
- Log errors with context
- Provide user-friendly messages
- Clean up resources on failure

### Input Validation

- Validate all external inputs
- Sanitize user input
- Check bounds and types
- Fail fast on invalid data

### Code Hygiene

- Use constants for repeated values
- Write self-documenting code
- Keep functions focused
- Remove dead code

---

## âœ… Code Review Checklist

Before approving any code:

- [ ] No hardcoded secrets
- [ ] All errors handled
- [ ] No magic numbers
- [ ] Functions under 50 lines
- [ ] No deep nesting (> 3 levels)
- [ ] Input validation present
- [ ] Resources properly cleaned up
- [ ] No commented-out code

---
*Generated by Archon*