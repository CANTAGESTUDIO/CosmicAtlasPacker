# Accessibility

> WCAG guidelines, contrast ratios, focus states, and accessibility best practices.

## WCAG 2.1 Compliance

This design system targets **WCAG 2.1 Level AA** compliance.

### Key Requirements

| Criterion | Requirement | Level |
|-----------|-------------|-------|
| 1.4.3 Contrast (Minimum) | 4.5:1 for text, 3:1 for large text | AA |
| 1.4.6 Contrast (Enhanced) | 7:1 for text, 4.5:1 for large text | AAA |
| 1.4.11 Non-text Contrast | 3:1 for UI components | AA |
| 2.4.7 Focus Visible | Clear focus indicators | AA |
| 2.5.5 Target Size | 44x44px minimum | AAA |

## Color Contrast

### Text Contrast Ratios

| Combination | Ratio | Passes |
|-------------|-------|--------|
| Primary on White | 4.6:1 | AA ✅ |
| Text Primary on Background | 12.6:1 | AAA ✅ |
| Text Secondary on Background | 5.7:1 | AA ✅ |
| Error on White | 4.5:1 | AA ✅ |

### Testing Contrast

```
Tools:
- Colour Contrast Analyser (CCA)
- WebAIM Contrast Checker
- Xcode Accessibility Inspector
```

## Focus States

### Focus Ring Style

```swift
.focusable()
.focusedValue(\.focused, true)

// Focus ring: 2px primary color, 2px offset
.overlay(
    RoundedRectangle(cornerRadius: 8)
        .stroke(Color.primary, lineWidth: 2)
        .padding(-2)
        .opacity(isFocused ? 1 : 0)
)
```

### Focus Order

1. Follow logical reading order (top-to-bottom, left-to-right)
2. Skip decorative elements
3. Group related controls
4. Provide skip links for repeated content

## Touch Targets

### Minimum Sizes

| Element | Minimum Size | Recommended |
|---------|--------------|-------------|
| Button | 44x44px | 48x48px |
| Icon Button | 44x44px | 44x44px |
| Link | 44x24px | 44x32px |
| Checkbox | 44x44px | 44x44px |

### Spacing

- Minimum 8px between interactive elements
- 12px recommended for touch interfaces

## Screen Reader Support

### VoiceOver Labels

```swift
Button(action: { }) {
    Image(systemName: "plus")
}
.accessibilityLabel("Add new item")
.accessibilityHint("Creates a new item in the list")
```

### Accessibility Traits

| Trait | Usage |
|-------|-------|
| `.isButton` | Interactive buttons |
| `.isHeader` | Section headers |
| `.isLink` | Navigation links |
| `.isSelected` | Selected state |
| `.isDisabled` | Disabled controls |

## Motion & Animation

### Reduced Motion

```swift
@Environment(\.accessibilityReduceMotion) var reduceMotion

var animation: Animation {
    reduceMotion ? .none : .easeOut(duration: 0.3)
}
```

### Guidelines

- Respect `prefers-reduced-motion`
- Provide alternatives for motion-based information
- Avoid animations that flash more than 3 times per second

## Checklist

### Development

- [ ] All images have alt text
- [ ] Form inputs have labels
- [ ] Error messages are announced
- [ ] Focus order is logical
- [ ] Touch targets are 44x44px minimum

### Testing

- [ ] VoiceOver navigation works
- [ ] Keyboard-only navigation works
- [ ] Contrast ratios pass AA
- [ ] Reduced motion is respected
- [ ] Dynamic Type is supported

---
*Generated by Archon*