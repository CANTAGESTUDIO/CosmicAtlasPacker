# ‚ú® Flutter Mobile Coding Conventions

> Dart/Flutter code style guide and naming conventions

---

## üìù Naming Conventions

| Type | Convention | Example |
|------|------------|---------|
| Classes | UpperCamelCase | `UserRepository`, `LoginBloc` |
| Extensions | UpperCamelCase | `StringExtension` |
| Functions/Methods | lowerCamelCase | `getUserById()`, `onPressed` |
| Variables | lowerCamelCase | `userName`, `isLoading` |
| Constants | lowerCamelCase | `defaultPadding`, `maxRetries` |
| Private | Prefix with `_` | `_privateMethod()`, `_internalState` |
| Files | snake_case | `user_repository.dart`, `login_bloc.dart` |

---

## üìÅ File Organization

```dart
// 1. Imports (grouped and sorted)
import 'dart:async';
import 'dart:collection';

import 'package:flutter/material.dart';
import 'package:riverpod/riverpod.dart';

import '../models/user.dart';
import 'user_repository.dart';

// 2. Part directives (if using freezed/json_serializable)
part 'user_model.freezed.dart';
part 'user_model.g.dart';

// 3. Constants
const kDefaultPadding = 16.0;

// 4. Class definition
class UserService {
  // 4.1 Static/const fields
  static const maxRetries = 3;

  // 4.2 Final fields
  final ApiClient _apiClient;

  // 4.3 Mutable fields
  int _retryCount = 0;

  // 4.4 Constructor
  UserService(this._apiClient);

  // 4.5 Factory constructors

  // 4.6 Public methods

  // 4.7 Private methods
}
```

---

## üé® Widget Guidelines

### Prefer const Constructors
```dart
// ‚úÖ Good
const SizedBox(height: 16);
const Text('Hello');

// ‚ùå Bad
SizedBox(height: 16);
Text('Hello');
```

### Extract Widgets
```dart
// ‚úÖ Good - Separate widget
class UserAvatar extends StatelessWidget {
  const UserAvatar({super.key, required this.url});
  final String url;

  @override
  Widget build(BuildContext context) => CircleAvatar(...);
}

// ‚ùå Bad - Inline method
Widget _buildAvatar() => CircleAvatar(...);
```

---

## üîß Formatting Rules

- **Line length**: 80 characters max
- **Indentation**: 2 spaces
- **Trailing commas**: Always use for multi-line
- **Run**: `dart format .` before commit

---

## üì¶ Import Organization

```dart
// 1. Dart SDK
import 'dart:async';
import 'dart:io';

// 2. Flutter SDK
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';

// 3. Third-party packages
import 'package:dio/dio.dart';
import 'package:riverpod/riverpod.dart';

// 4. Project imports (relative)
import '../models/user.dart';
import 'user_service.dart';
```

---

## ‚ö†Ô∏è Anti-Patterns to Avoid

| Anti-Pattern | Why Bad | Solution |
|--------------|---------|----------|
| `setState` in large widgets | Poor performance | Use BLoC/Riverpod |
| Hardcoded colors | No theming | Use `Theme.of(context)` |
| Deep widget nesting | Unreadable | Extract to separate widgets |
| Business logic in widgets | Hard to test | Move to UseCase/BLoC |
| Ignoring lint rules | Inconsistent code | Fix all warnings |

---

*Generated by Archon*